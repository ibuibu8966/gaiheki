# 外壁塗装マッチングサイト - ダッシュボード機能追加 実装ガイド

## はじめに

このガイドは、外壁塗装マッチングサイトに加盟店向けダッシュボードと運営会社向け管理機能を追加するための、フェーズ別実装手順書です。

各フェーズを順番に実装することで、段階的に機能を追加していくことができます。

## プロジェクト情報

- **GitHubリポジトリ**: https://github.com/ibuibu8966/gaiheki
- **ブランチ**: `admin-dashboard-complete`
- **Webサイト**: https://gaihekitosou.vercel.app/
- **データベース**: PostgreSQL (Supabase)

## 実装フェーズ

本プロジェクトは、以下の5つのフェーズに分けて実装します。

### フェーズ1: データベースセットアップ

**概要**: 請求管理機能に必要なデータベーステーブルを追加します。

**主なタスク**:
- Prismaスキーマの更新
- マイグレーションの実行
- Seedデータの作成

**所要時間**: 1〜2時間

**詳細**: `phase1_database_setup.md` を参照

---

### フェーズ2: 加盟店向けバックエンドAPI実装

**概要**: 加盟店向けのダッシュボードと請求管理機能のバックエンドAPIを実装します。

**主なタスク**:
- ダッシュボードAPI（KPI取得）
- 請求書管理API（一覧、作成、更新、ステータス変更）
- ユーティリティ関数（請求書番号採番、消費税計算）

**所要時間**: 4〜6時間

**詳細**: `phase2_partner_backend.md` を参照

---

### フェーズ3: 加盟店向けフロントエンド実装

**概要**: 加盟店向けのダッシュボードと請求管理画面のフロントエンドを実装します。

**主なタスク**:
- ダッシュボード画面（KPIサマリー、グラフ）
- 請求管理画面（一覧、作成、編集）
- PDF出力機能

**所要時間**: 6〜8時間

**詳細**: `phase3_partner_frontend.md` を参照

---

### フェーズ4: 運営会社向けバックエンドAPI実装

**概要**: 運営会社向けのダッシュボード、手数料請求管理、設定機能のバックエンドAPIを実装します。

**主なタスク**:
- ダッシュボードAPI（全体KPI取得）
- 手数料請求管理API（自動生成、一括発行、ステータス管理）
- 設定管理API（料金プラン、システム設定）
- ユーティリティ関数（手数料計算、支払期日計算）

**所要時間**: 6〜8時間

**詳細**: `phase4_admin_backend.md` を参照

---

### フェーズ5: 運営会社向けフロントエンド実装

**概要**: 運営会社向けのダッシュボード、手数料請求管理、設定画面のフロントエンドを実装します。

**主なタスク**:
- ダッシュボード画面（全体KPI、加盟店別サマリー）
- 手数料請求管理画面（一覧、生成、発行）
- 設定画面（料金プラン、システム設定）

**所要時間**: 6〜8時間

**詳細**: `phase5_admin_frontend.md` を参照

---

## 総所要時間

**合計**: 約23〜32時間

## 実装の進め方

1. 各フェーズのドキュメント（`phase1_*.md` 〜 `phase5_*.md`）を順番に読む
2. フェーズごとに実装を完了させる
3. 各フェーズ完了後、動作確認とテストを行う
4. 問題がなければ次のフェーズに進む
5. すべてのフェーズ完了後、統合テストを行う

## 注意事項

- 各フェーズは前のフェーズが完了していることを前提としています
- フェーズをスキップせず、順番に実装してください
- 各フェーズ完了後は必ずテストを行ってください
- 問題が発生した場合は、前のフェーズに戻って確認してください

## 参考資料

実装を進める前に、以下の資料を確認してください：

- `project_summary.md`: プロジェクト全体の概要
- `functional_requirements.md`: 機能要件定義書
- `database_design.md`: データベース設計書

## サポート

実装中に不明な点や問題が発生した場合は、各フェーズのドキュメントを再度確認するか、プロジェクトの概要資料を参照してください。

---

**作成者**: Manus AI  
**作成日**: 2025年10月16日

